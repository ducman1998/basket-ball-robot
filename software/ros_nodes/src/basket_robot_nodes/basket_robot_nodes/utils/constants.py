from typing import List

ODOM_FRAME_ID = "odom"
BASE_FRAME_ID = "base_footprint"

# buffer depth for QoS profiles
QOS_DEPTH = 1

REALSENSE_QUEUE_SIZE = 2

# the order of enabled colors for segmentation, the order matters as later colors will override
# previous ones in the look-up table, helping to reduce false positives
ENABLED_SEGMENTED_COLORS = ["white", "magenta", "blue", "black", "green", "court"]

# color visualization RGB map, only used for visualization purposes
COLOR_VIZ_RGB_MAP: dict[str, tuple[int, int, int]] = {
    "green": (0, 255, 0),
    "blue": (242, 228, 244),
    "white": (255, 255, 0),
    "black": (18, 180, 204),
    "magenta": (0, 255, 0),
    "court": (209, 234, 168),
}

# HSV color tolerances for each color (h_tol, s_tol, v_tol), the segmentation
# algorithm will consider pixels within these tolerances (+/- h/s/v_tol) as belonging to the color
COLOR_TOLERANCES = {
    "green": [4, 15, 20],  # TUNED
    "blue": [15, 20, 25],  # TUNED
    "white": [180, 60, 100],  # TUNED
    "black": [10, 80, 40],  # TUNED
    "magenta": [5, 10, 10],  # TUNED
    "court": [2, 40, 30],  # TUNED
}
# Reference RGB colors for each color category, used to build the color segmentation look-up table
# adding more will improve segmentation accuracy but doesn't increase computational cost. So it is
# highly recommended to add more different reference colors if possible.
COLOR_REFERENCE_RGB: dict[str, List[List]] = {
    "green": [
        [69, 52, 27],
        [92, 83, 48],
        [113, 76, 42],
        [97, 60, 30],
        [86, 83, 53],
        [77, 55, 29],
        [114, 82, 37],
        [119, 78, 41],
        [87, 57, 23],
        [104, 65, 32],
        [116, 63, 28],
        [90, 65, 29],
        [108, 69, 36],
        [105, 51, 23],
        [115, 75, 51],
        [133, 103, 71],
        [119, 71, 36],
        [130, 74, 46],
        [135, 92, 57],
        [127, 71, 43],
        [94, 99, 62],
        [59, 54, 32],
        [79, 81, 49],
        [81, 64, 39],
        [59, 40, 25],
        [110, 83, 50],
        [103, 79, 38],
        [108, 65, 30],
        [109, 84, 48],
        [82, 50, 18],
        [97, 67, 33],
        [97, 64, 24],
        [145, 135, 96],
        [129, 104, 70],
        [96, 74, 39],
        [131, 79, 41],
        [92, 54, 18],
        [116, 75, 38],
    ],
    "court": [
        [201, 47, 25],
        [222, 69, 42],
        [224, 49, 39],
        [236, 83, 56],
        [227, 82, 59],
        [200, 36, 27],
        [186, 39, 26],
        [198, 42, 32],
        [200, 46, 24],
        [178, 40, 22],
        [188, 46, 41],
        [212, 70, 42],
        [222, 69, 42],
        [220, 69, 33],
        [252, 81, 60],
        [174, 33, 9],
        [212, 58, 41],
        [205, 40, 24],
        [218, 72, 38],
        [203, 44, 19],
        [242, 87, 52],
        [250, 103, 74],
        [221, 77, 45],
        [251, 84, 57],
    ],
    "blue": [
        [74, 60, 87],
        [57, 42, 74],
        [42, 45, 7],
        [58, 49, 81],
        [50, 40, 68],
        [70, 36, 58],
        [0, 46, 79],
        [0, 58, 94],
        [0, 46, 80],
        [41, 44, 76],
        [61, 42, 70],
        [2, 67, 96],
        [0, 48, 87],
        [53, 41, 67],
        [53, 39, 66],
        [50, 37, 68],
        [69, 43, 70],
        [55, 41, 68],
        [54, 42, 66],
        [58, 37, 62],
        [72, 50, 84],
        [48, 42, 73],
        [52, 46, 79],
        [73, 53, 86],
    ],
    "magenta": [
        [151, 19, 37],
        [151, 19, 35],
        [134, 21, 28],
        [136, 17, 24],
        [153, 23, 45],
        [154, 23, 50],
        [53, 39, 62],
        [61, 56, 84],
        [157, 28, 43],
        [140, 30, 39],
        [160, 25, 39],
        [164, 30, 47],
        [152, 27, 38],
        [168, 46, 61],
        [166, 22, 42],
        [156, 21, 35],
        [159, 20, 45],
        [163, 22, 41],
        [155, 23, 39],
        [152, 8, 30],
        [154, 18, 37],
        [158, 16, 40],
    ],
    "white": [
        [81, 103, 104],
        [80, 123, 119],
        [96, 136, 138],
        [114, 125, 123],
        [113, 131, 129],
        [121, 167, 169],
        [86, 122, 116],
        [117, 135, 131],
        [122, 134, 126],
        [89, 126, 127],
        [252, 189, 195],
        [253, 200, 214],
        [255, 183, 181],
        [253, 184, 197],
        [255, 203, 221],
        [251, 171, 181],
        [244, 174, 178],
        [254, 175, 189],
        [254, 199, 207],
        [254, 202, 210],
        [253, 196, 203],
        [254, 193, 205],
    ],
    "black": [
        [18, 22, 17],
        [20, 38, 32],
        [13, 24, 20],
        [22, 29, 21],
        [16, 27, 25],
        [17, 26, 19],
        [22, 20, 10],
        [31, 32, 23],
        [28, 24, 15],
        [23, 21, 13],
        [21, 19, 9],
        [27, 31, 24],
        [20, 32, 24],
        [23, 24, 15],
        [41, 21, 22],
        [57, 28, 32],
        [63, 25, 29],
        [49, 23, 21],
        [62, 25, 34],
        [59, 25, 33],
        [49, 21, 22],
        [57, 23, 31],
        [56, 28, 46],
        [51, 27, 37],
        [43, 29, 37],
        [51, 32, 41],
    ],
}
